<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.admin">

	<select id="selectDeleteBook" resultType="hashMap">
	 <![CDATA[
	 SELECT bb.BOOKNO AS BOOKNO
	 , bb.BOOKTITLE AS BOOKTITLE
	 , bb.NAME AS NAME
	 , bb.BVIEWCNT AS BVIEWCNT
	 , bb.BOOKDATE AS BOOKDATE
		FROM B_BOOK bb 
		WHERE BOOKDELETE = 'Y'
		ORDER BY BOOKNO DESC
		]]>
	</select>

	<select id="selectDeletePage" resultType="hashMap">
	SELECT bb.BOOKTITLE AS BOOKTITLE
	, bp.PAGENO AS PAGENO
	, bp.PAGETITLE AS PAGETITLE
	, bp.PAGEDATE AS PAGEDATE
		FROM B_BOOK bb, B_PAGE bp
		WHERE bb.BOOKNO = bp.BOOKNO
		AND bp.PAGEDELETE = 'Y'
		ORDER BY PAGEDATE DESC
	</select>

	<select id="selectDeleteBoard" resultType="hashMap">
		SELECT bb.ARTICLENO AS ARTICLENO
		, bb.BOARDTITLE AS BOARDTITLE
		, bb.ID AS ID
		, bb.BDVIEWCNT AS BDVIEWCNT
		, bb.BOARDDATE AS BOARDDATE
		FROM B_BOARD bb
		WHERE BOARDDELETE = 'Y'
		ORDER BY ARTICLENO DESC
	</select>
	
		<select id="selectPageBenefitList" resultType="hashMap">
		SELECT bb.BOOKTITLE AS BOOKTITLE
		, bp.SERIES AS SERIES
		, bp.PAGETITLE AS PAGETITLE
		, bp2.PAGEPAY AS PAGEPAY
		, bp2.ID AS ID
		, bp2.PAGEPAYDATE AS PAGEPAYDATE
		FROM B_BOOK bb, B_PAGE bp, B_PAGEBUY bp2
		WHERE bb.BOOKNO = bp.BOOKNO
		AND bp.PAGENO =bp2.PAGENO
		ORDER BY PAGEPAYDATE DESC
	</select>
	
	<select id="selectCoinList" resultType="hashMap">
		SELECT COINMETHOD, RECHARGECOIN, COINDATE, ID
		FROM B_COINHISTORY BC
		ORDER BY COINDATE DESC	
	</select>
	
		<select id="selectAdminList" resultType="hashMap">
		SELECT bu.ID AS ID
		, bu.PWD AS PWD
		, bu.JOINDATE AS JOINDATE
		, bu.ADMIN AS ADMIN2, DECODE(ADMIN, 'A', '관리자', 'Q', '상담원') ADMIN 
		FROM B_USER bu 
		WHERE ADMIN = 'A'
		OR ADMIN = 'Q'
	</select>
	
		<delete id="deleteAdminAcc">
		DELETE FROM B_USER bu
		WHERE ID=#{id}
		</delete>


</mapper>