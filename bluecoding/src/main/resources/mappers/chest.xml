<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.chest">

	<resultMap id="chestResult" type="ChestVO">
	
		<result property="bookNO" column="bookNO" />
		<result property="bookTitle" column="bookTitle" />
		<result property="intro" column="intro" />
		<result property="theme" column="theme" />
		<result property="bookImage" column="bookImage" />
		<result property="bookDelete" column="bookDelete" />
		<result property="name" column="name" />
		<result property="id" column="id" />
		<result property="bookDate" column="bookDate" />
		<result property="bViewCnt" column="bViewCnt" />

	</resultMap>


<!-- [ 로그인 사용자가 쓴 글 조회] -->
<!--    <select id="selectChest" parameterType="hashMap"  resultType="hashMap">
    <![CDATA[
    SELECT BOARDTITLE AS title
      ,ID AS ID
      ,to_char(BOARDDATE,'yyyy-mm-dd') AS bdate
FROM B_BOARD bb
WHERE  id =#{id}
UNION ALL 
SELECT QNATITLE AS TITLE
     ,ID AS ID
     ,to_char(QNADATE,'yyyy-mm-dd') AS bdate
  FROM B_QNA bq
WHERE  id = #{id}  
        ]]>
   </select> -->

<!-- [사용자가 즐겨찾기 등록한 책 조회] -->
	<select id="selectFavoBookList" resultMap="chestResult">
    <![CDATA[
    	SELECT bb.BOOKTITLE, bb.NAME, bb.BOOKDATE, bb.BVIEWCNT
		FROM B_BOOK bb, B_FAVO bf 
		WHERE bb.ID = bf.ID
        ]]>
	</select>

</mapper>